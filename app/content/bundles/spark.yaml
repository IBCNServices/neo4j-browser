machines:
  '0':
    constraints: arch=amd64 testbed=wall1 pubipv4=true
    series: trusty
  '1':
    constraints: arch=amd64 testbed=wall1
    series: trusty
  '2':
    constraints: arch=amd64 testbed=wall1
    series: trusty
services:
  hhh-namenode:
    charm: cs:trusty/apache-hadoop-namenode-1
    num_units: 1
    annotations:
      gui-x: "600"
      gui-y: "350"
    to: lxc:1
  hhh-resourcemanager:
    charm: cs:trusty/apache-hadoop-resourcemanager-1
    num_units: 1
    annotations:
      gui-x: "600"
      gui-y: "100"
    to: lxc:1
  hhh-slave:
    charm: cs:trusty/apache-hadoop-slave-1
    num_units: 3
    annotations:
      gui-x: "250"
      gui-y: "200"
    to:
      - lxc:0
      - lxc:1
      - lxc:2
  hhh-plugin:
    charm: cs:trusty/apache-hadoop-plugin-13
    annotations:
      gui-x: "950"
      gui-y: "200"
  hhh-spark:
    charm: cs:trusty/apache-spark-7
    num_units: 1
    annotations:
      gui-x: "1300"
      gui-y: "200"
    to: lxc:0
series: trusty
relations:
  - [hhh-namenode, hhh-slave]
  - [hhh-resourcemanager, hhh-slave]
  - [hhh-resourcemanager, hhh-namenode]
  - [hhh-plugin, hhh-namenode]
  - [hhh-plugin, hhh-resourcemanager]
  - [hhh-spark, hhh-plugin]
