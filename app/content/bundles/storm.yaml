machines:
  '4':
    constraints: 'arch=amd64 testbed=wall1 pubipv4=true'
    series: trusty
services:
  hhh-nimbus:
    charm: local:trusty/storm
    num_units: 1
    to: lxc:4
  hhh-worker:
    charm: local:trusty/storm
    num_units: 2
    to: lxc:4
  hhh-apache-zookeeper:
    charm: local:trusty/apache-zookeeper
    num_units: 1
    to: lxc:4
  hhh-cassandra:
    charm: cs:trusty/cassandra
    num_units: 2
    to: lxc:4
series: trusty
relations:
  - [hhh-nimbus, hhh-apache-zookeeper]
  - [hhh-worker, hhh-apache-zookeeper]
  - ["hhh-nimbus:master", "hhh-worker:worker"]